<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Performance | Technical Documentation</title> <meta name="generator" content="Jekyll v3.9.3" /> <meta property="og:title" content="Performance" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Performance The LDES Server and LDIO Workbench are components for publishing data as LDES. They are available as docker images that can be deployed locally or in the cloud using any container technology such as docker compose, kubernetes, or similar mechanism provided by cloud providers." /> <meta property="og:description" content="Performance The LDES Server and LDIO Workbench are components for publishing data as LDES. They are available as docker images that can be deployed locally or in the cloud using any container technology such as docker compose, kubernetes, or similar mechanism provided by cloud providers." /> <link rel="canonical" href="http://0.0.0.0:4000/pipeline/performance" /> <meta property="og:url" content="http://0.0.0.0:4000/pipeline/performance" /> <meta property="og:site_name" content="Technical Documentation" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2025-12-11T20:20:28+00:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Performance" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2025-12-11T20:20:28+00:00","datePublished":"2025-12-11T20:20:28+00:00","description":"Performance The LDES Server and LDIO Workbench are components for publishing data as LDES. They are available as docker images that can be deployed locally or in the cloud using any container technology such as docker compose, kubernetes, or similar mechanism provided by cloud providers.","headline":"Performance","mainEntityOfPage":{"@type":"WebPage","@id":"http://0.0.0.0:4000/pipeline/performance"},"url":"http://0.0.0.0:4000/pipeline/performance"}</script> <!-- End Jekyll SEO tag --> <div class="test-header" data-v-df634f57="" data-v-7a7a37b1=""> <hr class="divider" data-v-df634f57=""> </div> <div class="navbar navbar-fixed-top"> <div class="navbar-inner"> <div class="container-fluid"> <a href="https://openldes.org/assets/"> <button type="button" class="btn btn-navbar custom-border-activated" > <span class="nav-icon-bar">Home</span> </button> </a> <a href="https://github.com/OpenLDES/Onboarding-Example"> <button type="button" class="btn btn-navbar custom-border" > <span class="nav-icon-bar">Tutorial</span> </button> </a> <a href="https://openldes.github.io/LDESServer/"> <button type="button" class="btn btn-navbar custom-border" > <span class="nav-icon-bar">Reference guide: LDES server</span> </button> </a> <a href="https://openldes.github.io/Linked-Data-Interactions/"> <button type="button" class="btn btn-navbar custom-border" > <span class="nav-icon-bar">Reference guide: LDI Pipelines</span> </button> </a> </div> </div> </div> <style> .custom-border-activated { background-color: rgb(255, 230, 21); } .custom-border { border: 0.3px solid rgb(0, 200, 171); /* Randkleur */ /* Voeg hier eventueel andere stijlelementen toe */ } .navbar-fixed-top .navbar-inner { margin-top:30px; height: 35px; padding: 0; border-top: 1px solid #d4d4d4; z-index: 1000; position: fixed; right:0px; } @media (min-width: 50rem) .navbar-fixed-top { position: relative !important; width: auto !important; height: 100% !important; padding: 0; transition: none; } .global-header[data-v-df634f57] { display: flex; margin-left: 0px; align-items: center; position: fixed; width: 100%; background-color: white; z-index: 100; } .test-header{ margin-bottom: 20px; overflow:hidden; z-index: 100; } element.style { } .small-global-header-divider[data-v-df634f57] { margin: 0 8px 0 4px; } .header-font { color: #333332; font-family: Flanders Art Sans, sans-serif; font-size: 12px; font-style: normal; font-weight: 500; line-height: normal; letter-spacing: 0.5px; text-transform: uppercase; } .spacer { flex-grow: 1; } .divider { border: 1px solid #8f8f8f66; margin: 0; } #help-needed > span[data-v-df634f57] { margin-left: 25px; } /* title of the site */ #header { height: 80px; } #header hgroup { position: absolute; top: 10px; left: 20px; } #header h1 { margin: 0; font-size: 1.75em; font-weight: bold; } #header h2 { color: #ccc; margin: 0 0 4px 16px; line-height: 0.8; font-size: 1.0em; font-weight: normal; } #header a, #header a:hover, #header a:visited { text-decoration: none; } .navbar .nav > .active > a, .navbar .nav > .active > a:hover, .navbar .nav > .active > a:focus { box-shadow: none; } .navbar .btn-navbar { margin-bottom: 5px; } </style> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> Technical Documentation </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/" class="nav-list-link">Home</a></li></ul> <div class="nav-category">Basic concepts</div> <ul class="nav-list"><li class="nav-list-item"><a href="/basic/1_linked_data" class="nav-list-link">1. Basic concept Linked Data</a></li><li class="nav-list-item"><a href="/basic/2_introduction" class="nav-list-link">2. Why LDES?</a></li><li class="nav-list-item"><a href="/basic/3_Specification" class="nav-list-link">3. What is a LDES?</a></li><li class="nav-list-item"><a href="/basic/4_basic_structure_LDES" class="nav-list-link">4. Basic structure LDES</a></li><li class="nav-list-item"><a href="/basic/5_replication" class="nav-list-link">5. Replication & synchronisation</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 6. Fragmentations and pagination category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/basic/fragmentations/index" class="nav-list-link">6. Fragmentations and pagination</a><ul class="nav-list"><li class="nav-list-item "><a href="/basic/fragmentations/geospatial" class="nav-list-link">Geospatial Fragmentation</a></li><li class="nav-list-item "><a href="/basic/fragmentations/pagination" class="nav-list-link">Pagination</a></li><li class="nav-list-item "><a href="/basic/fragmentations/timebased" class="nav-list-link">Timebased Fragmentation</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 7. Retention Policies category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/basic/retention-policies/index" class="nav-list-link">7. Retention Policies</a><ul class="nav-list"><li class="nav-list-item "><a href="/basic/retention-policies/timebased" class="nav-list-link">Timebased Retention</a></li><li class="nav-list-item "><a href="/basic/retention-policies/version-based" class="nav-list-link">Version Based Retention</a></li></ul></li><li class="nav-list-item"><a href="/basic/6_DCAT" class="nav-list-link">8. Metadata catalogue (DCAT)</a></li><li class="nav-list-item"><a href="/basic/7_SHACL" class="nav-list-link">9. SHACL validation</a></li><li class="nav-list-item"><a href="/basic/--%20OSLO%20mapping" class="nav-list-link">--> OSLO mapping</a></li><li class="nav-list-item"><a href="/basic/--%20blog%20posts" class="nav-list-link">--> Blog posts</a></li></ul> <div class="nav-category">General Pipeline</div> <ul class="nav-list"><li class="nav-list-item"><a href="/pipeline/general_concept" class="nav-list-link">General concept</a></li><li class="nav-list-item"><a href="/pipeline/environements" class="nav-list-link">Supported frameworks</a></li><li class="nav-list-item"><a href="/pipeline/release" class="nav-list-link">Release management</a></li><li class="nav-list-item active"><a href="/pipeline/performance" class="nav-list-link active">Performance</a></li></ul> <div class="nav-category">Publishing Pipeline</div> <ul class="nav-list"><li class="nav-list-item"><a href="/publisher/index" class="nav-list-link">Publishing Pipeline</a></li><li class="nav-list-item"><a href="/publisher/examples" class="nav-list-link">Examples publishing Pipeline</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 1. Input components category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/publisher/inputs/index" class="nav-list-link">1. Input components</a><ul class="nav-list"><li class="nav-list-item "><a href="/publisher/inputs/http-in-poller" class="nav-list-link">HTTP In Poller</a></li><li class="nav-list-item "><a href="/publisher/inputs/http-in" class="nav-list-link">HTTP In</a></li><li class="nav-list-item "><a href="/publisher/inputs/kafka-in" class="nav-list-link">Kafka In</a></li><li class="nav-list-item "><a href="/publisher/inputs/amqp-in" class="nav-list-link">AMQP In</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 2. Adapter components category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/publisher/adapters/index" class="nav-list-link">2. Adapter components</a><ul class="nav-list"><li class="nav-list-item "><a href="/publisher/adapters/ngsiv2-to-ld" class="nav-list-link">NGSI V2 to LD Adapter</a></li><li class="nav-list-item "><a href="/publisher/adapters/rdf-adapter" class="nav-list-link">RDF Adapter</a></li><li class="nav-list-item "><a href="/publisher/adapters/rml-adapter" class="nav-list-link">RML Adapter</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 3. Transformer components category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/publisher/transformers/index" class="nav-list-link">3. Transformer components</a><ul class="nav-list"><li class="nav-list-item "><a href="/publisher/transformers/geojson-to-wkt" class="nav-list-link">GeoJson to Wkt Transformer</a></li><li class="nav-list-item "><a href="/publisher/transformers/sparql-construct" class="nav-list-link">SPARQL Construct</a></li><li class="nav-list-item "><a href="/publisher/transformers/version-materializer" class="nav-list-link">Version Materializer</a></li><li class="nav-list-item "><a href="/publisher/transformers/version-object-creator" class="nav-list-link">Version Object Creator</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 4. Output components category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/publisher/outputs/index" class="nav-list-link">4. Output components</a><ul class="nav-list"><li class="nav-list-item "><a href="/publisher/outputs/console-out" class="nav-list-link">Console Out</a></li><li class="nav-list-item "><a href="/publisher/outputs/http-out" class="nav-list-link">HTTP Out</a></li><li class="nav-list-item "><a href="/publisher/outputs/kafka-out" class="nav-list-link">Kafka Out</a></li><li class="nav-list-item "><a href="/publisher/outputs/repository-materialiser" class="nav-list-link">Repository Materialization</a></li></ul></li><li class="nav-list-item"><a href="/publisher/LDES_server" class="nav-list-link">5. LDES server</a></li></ul> <div class="nav-category">Consuming Pipeline</div> <ul class="nav-list"><li class="nav-list-item"><a href="/consumer/index" class="nav-list-link">Consuming pipeline</a></li><li class="nav-list-item"><a href="/consumer/examples" class="nav-list-link">Examples consuming Pipeline</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 1. Input components category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/consumer/inputs/index" class="nav-list-link">1. Input components</a><ul class="nav-list"><li class="nav-list-item "><a href="/consumer/inputs/ldes-client" class="nav-list-link">LDES Client</a></li><li class="nav-list-item "><a href="/consumer/inputs/ldes-client-connector" class="nav-list-link">LDES Client with Connector</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 2. Adapter components category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/consumer/adapters/index" class="nav-list-link">2. Adapter components</a><ul class="nav-list"><li class="nav-list-item "><a href="/consumer/adapters/rdf-adapter" class="nav-list-link">RDF Adapter</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 3. Transformer components category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/consumer/transformers/index" class="nav-list-link">3. Transformer components</a><ul class="nav-list"><li class="nav-list-item "><a href="/consumer/transformers/sparql-construct" class="nav-list-link">SPARQL Construct</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in 4. Output components category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/consumer/outputs/index" class="nav-list-link">4. Output components</a><ul class="nav-list"><li class="nav-list-item "><a href="/consumer/outputs/azure-blob-out" class="nav-list-link">Azure Blob Out</a></li><li class="nav-list-item "><a href="/consumer/outputs/console-out" class="nav-list-link">Console Out</a></li><li class="nav-list-item "><a href="/consumer/outputs/http-out" class="nav-list-link">HTTP Out</a></li><li class="nav-list-item "><a href="/consumer/outputs/kafka-out" class="nav-list-link">Kafka Out</a></li><li class="nav-list-item "><a href="/consumer/outputs/repository-materialiser" class="nav-list-link">Repository Materialization</a></li></ul></li><li class="nav-list-item"><a href="/consumer/ldes-discoverer" class="nav-list-link">5. LDES structure Discoverer</a></li></ul> <div class="nav-category">Intermediary Pipeline</div> <ul class="nav-list"><li class="nav-list-item"><a href="/intermediary/index" class="nav-list-link">Intermediary Pipeline</a></li></ul> </nav> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Technical Documentation" aria-label="Search Technical Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="performance"> <a href="#performance" class="anchor-heading" aria-labelledby="performance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Performance </h1> <p>The <a href="https://openldes.github.io/LDESServer/">LDES Server</a> and <a href="https://openldes.github.io/Linked-Data-Interactions/">LDIO Workbench</a> are components for publishing data as LDES. They are available as <a href="https://hub.docker.com/">docker images</a> that can be deployed locally or in the cloud using any container technology such as docker compose, kubernetes, or similar mechanism provided by cloud providers.</p> <p>How you size the docker containers towards available CPU and memory impacts the performance of these components. Depending on your specific needs you will have to use more or less CPU and/or memory to alow your specific data sets to be ingested slower or faster into the LDES Server’s database. Likewise, you need to balance these sizes for the amount of data you have and the number of clients that will be requesting this data. It is very difficult to predict the best sizes for CPU and memory usage in any particular case, especially if data sets are added or removed.</p> <p>We defined and executed a number of performance tests to measure how fast these components work given some limitations in order to have a base line that can be used for sizing your particular setup.</p> <h2 id="ldes-server-performance"> <a href="#ldes-server-performance" class="anchor-heading" aria-labelledby="ldes-server-performance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LDES Server Performance </h2> <p>The LDES Server allows to ingest the members of a data set (LDES), stores them in a database and allows to retrieve the members in a partitioned way (view). The way the LDES server is designed, these three features are decoupled from one another. That is, the ingesting &amp; storing happens immediately upon data reception, while the partitioning happens as a background task. Once the data is processed by this job it is available for retrieval.</p> <p>Depending on your data set you may first ingest all members by only defining a LDES without any views and than defining one or more views to partition the data set and make it available for retrieval. Note that without a view, the data set cannot be retrieved. Alternatively, you can define the view(s) before ingesting the members resulting in the data set being partitioned (in the background) while ingesting. For data sets that do not change (e;g. historical data sets), it depends on how fast after ingest the data set should be available: you may choose to fragment the data set during ingest or only after the data set is ingested. For fast moving data sets we recommend to ingest and partition in parallel to ensure the data set is available as soon as possible.</p> <p>In order to test the server’s performance we defined a <a href="#what---test-plan">test plan</a>, setup a controlled <a href="#where---test-environment">test environment</a>, created a number of <a href="#how---test-method">tests</a> and executed these tests while collecting some basic statistics.</p> <p>If you only care about the numbers, you can skip the following sections and find the results <a href="#results">below</a>.</p> <h3 id="what-and-why---test-plan"> <a href="#what-and-why---test-plan" class="anchor-heading" aria-labelledby="what-and-why---test-plan"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> What and why? - Test Plan </h3> <p>Data sets come in all shapes and sizes, some are small while other are huge and some are fast, slow or even non-moving. Obviously, this impacts how fast you need to be able to ingest and store the data.</p> <p>As said, the ingesting and storing runs separately from the partitioning (fragmentation) and we can configure the system in such a way that it does these two tasks either separately or together. So, we measure the ingest speed and the fragmentation speed both sequentially and in parallel. In addition, as the LDES server can accept multiple HTTP connection at the same time we also measure the effect of ingesting data from one vs. multiple clients/pipelines.</p> <p>For the partitioning performance measuring we vary on the number of views to measure the impact of multiple simultaneous fragmentations. As there are multiple types of fragmentation (i.e. simply paged, geospatial &amp; time-based) we measure the difference in speed of these types so you know the impact and can choose how and when to offer a(n additional) view on the data set.</p> <p>When creating a view you need to specify the number of members that each fragment will contain. The optimal amount will vary on the size of your members (number of linked data triples) as this will impact the size of a fragment and therfore the amount of time needed when returning the fragment and the time needed to actually read (parse) the fragment. In order to determine the optimal member count (for a specific use case) we measured the retrieve (fetch) time needed varying on the number of members in a fragment.</p> <h3 id="where---test-environment"> <a href="#where---test-environment" class="anchor-heading" aria-labelledby="where---test-environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Where? - Test Environment </h3> <p>As said, the LDES components are available as docker images and can therefore be deployed locally or in a cloud environment. We used the local environment for test development and to simulate a high-end deployment environment. We used a typical cloud environment as a mid-range deployment environment. Finally, we also ran the tests in a very small physical environment. This allowed us to measure the impact of the differently sized environments.</p> <p>For all test enviroments we used the same sizing for the actual containers:</p> <div class="table-wrapper"><table> <thead> <tr> <th>sizes</th> <th>initial</th> <th>limit</th> </tr> </thead> <tbody> <tr> <td>cpu (virtual)</td> <td>0.5</td> <td>3.0</td> </tr> <tr> <td>memory (GiB)</td> <td>0.5</td> <td>2.0</td> </tr> </tbody> </table></div> <blockquote> <p><strong>Note</strong>: in the cloud environment we had to increase the maximum memory to 3 GB for one test (retrieve 10000 members/page) to avoid running out of java heap space.</p> </blockquote> <h4 id="high-end-test-environment"> <a href="#high-end-test-environment" class="anchor-heading" aria-labelledby="high-end-test-environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> High-End Test Environment </h4> <p>To simulate a high-end deployment environment we used a MacBook Pro (Apple M2 pro with 10 cores - 6 performance + 4 efficiency) with 16GiB physical RAM. Using docker compose we ran all our services locally on this system in their own private network.</p> <h4 id="mid-range-test-environment"> <a href="#mid-range-test-environment" class="anchor-heading" aria-labelledby="mid-range-test-environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mid-range Test Environment </h4> <p>For a typical deployment environment we used a cloud environment where we had two separate clusters: one for the (postgres) database and one for all our other services. The database cluster is a single node <a href="https://aws.amazon.com/rds/instance-types/">t4g.medium instance</a>(2 vCPU and 4 GiB system), while the other services used a dual node <a href="https://aws.amazon.com/ec2/instance-types/m5/">m5.2xlarge instance</a> (8 vCPU and 32 GiB system). We used ArgoCD and terraform for the deployment in this environment.</p> <h4 id="low-end-test-environment"> <a href="#low-end-test-environment" class="anchor-heading" aria-labelledby="low-end-test-environment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Low-End Test Environment </h4> <p>Some environments may not need the raw power or may even have a very tight budget. For that reason we also tested the performance on a Raspberry PI model 4 with 8GiB RAM (quad-core), deploying all services locally using docker compose.</p> <h3 id="how---test-method"> <a href="#how---test-method" class="anchor-heading" aria-labelledby="how---test-method"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> How? - Test Method </h3> <p>To write and run the actual tests we used <a href="https://jmeter.apache.org/">JMeter</a>. In addition, we created and used a small management tool (<a href="https://github.com/OpenLDES/jmeter-runner">JMeter Runner</a>) to schedule tests, cancel or delete tests, follow up the running tests and view tests results.</p> <p>Each test ingests 100K members using a number of pipelines and partitions the data set using one or more views. A test produces a stats.xml file containing the base measurements in addition to the standard report generated automatically by JMeter. This stats.xml file allows us to capture and report measurements on the background (fragmentation) tasks as well.</p> <p>We run the following tests in seven test runs to have a few statistical values, i.e. min, max and average:</p> <ul> <li>calculate ingest speed using 1, 2 and 4 pipelines - sequentially (without partitioning by only seeding the LDES definition)</li> <li>calculate fragmentation speed using 1, 2 and 4 simple paged views - sequentially (after sequential ingest)</li> <li>calculate fragmentation speed of geospatial (by-location) and time-based (by-time) using 1 view</li> <li>calculate ingest and fragmentation speed using a combination of 1, 2 &amp; 4 pipelines vs. 1, 2 &amp; 4 views (e.g. 2 pipelines towards 4 views) - parallel ingest &amp; partitioning</li> <li>calculate fetch speed using 10, 100, 250, 500, 1000, 2500, 5000 &amp; 10000 members per page - no parsing/reading, measures only the fragment creation and retrieval</li> </ul> <p>The test definitions and the instructions to run these tests locally can be found <a href="https://github.com/OpenLDES/VSDS-LDES-performance-testing/tree/main/load-testing/server">here</a> while the docker compose file and related files can be found <a href="https://github.com/OpenLDES/VSDS-LDES-performance-testing/tree/main/load-testing">one level up</a>.</p> <h3 id="results"> <a href="#results" class="anchor-heading" aria-labelledby="results"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Results </h3> <p>All results show the average values of all test runs in members per second. For details we would like to refer you to <a href="https://github.com/OpenLDES/VSDS-LDES-performance-testing/blob/main/load-testing/server/results.xlsx">the results source</a>. We have tested our reference image (<a href="https://hub.docker.com/r/ldes/ldes-server/tags">3.5.0</a>) of the LDES Server.</p> <blockquote> <p><strong>Note</strong> that the low-end numbers are not yet available and may change the conclusions below.</p> </blockquote> <h4 id="sequential-ingest-speed-test"> <a href="#sequential-ingest-speed-test" class="anchor-heading" aria-labelledby="sequential-ingest-speed-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sequential Ingest Speed Test </h4> <div class="table-wrapper"><table> <thead> <tr> <th> </th> <th>High-end</th> <th>Mid-range</th> <th>Low-end</th> </tr> </thead> <tbody> <tr> <td>1 pipeline</td> <td>2,451</td> <td>883</td> <td> </td> </tr> <tr> <td>2 pipelines</td> <td>4,348</td> <td>1,525</td> <td> </td> </tr> <tr> <td>4 pipelines</td> <td>4,928</td> <td>1,919</td> <td> </td> </tr> </tbody> </table></div> <blockquote> <p><strong>Note</strong> that we see a performance increase of 70% to 100% for the high-end and even up to 120% increase for the mid-range environment when multiple pipelines are used on a system which has enough cores.</p> </blockquote> <p>The original target ingest rate of 100K members/minute is feasible and even largely surpassed with 147K members/minute. This proves that the LDES Server ingest task is fast enough given enough resources. So, given that enough memory is assigned to the LDES server, you can use multiple pipelines to ingest the same or different data set at the same time.</p> <h4 id="sequential-fragment-speed-test"> <a href="#sequential-fragment-speed-test" class="anchor-heading" aria-labelledby="sequential-fragment-speed-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sequential Fragment Speed Test </h4> <div class="table-wrapper"><table> <thead> <tr> <th> </th> <th>High-end</th> <th>Mid-range</th> <th>Low-end</th> </tr> </thead> <tbody> <tr> <td>1 view</td> <td>1,975</td> <td>329</td> <td> </td> </tr> <tr> <td>2 views</td> <td>1,530</td> <td>309</td> <td> </td> </tr> <tr> <td>4 views</td> <td>694</td> <td>260</td> <td> </td> </tr> </tbody> </table></div> <blockquote> <p><strong>Note</strong> that the performance increase is 55% &amp; 41% (high-end case) and 88% &amp; 216% (mid-range case) for 2 resp. 4 views at once.</p> </blockquote> <p>Although the raw numbers seem to indicate a performance loss, the work done for 2 and 4 views is double resp. quadruple. So, there is in fact an increase in performance when doing the fragmentation for the views in parallel vs. if we would have to fragment multiple views sequentially. This means that it is faster to fragment all the views at once, so if you know that you will need multiple views, you can define them all before ingestion.</p> <h4 id="parallel-ingest-speed-test"> <a href="#parallel-ingest-speed-test" class="anchor-heading" aria-labelledby="parallel-ingest-speed-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parallel Ingest Speed Test </h4> <div class="table-wrapper"><table> <thead> <tr> <th> </th> <th> </th> <th>High-end</th> <th>Mid-range</th> <th>Low-end</th> </tr> </thead> <tbody> <tr> <td>1 pipeline</td> <td>1 view</td> <td>2,394</td> <td>835</td> <td> </td> </tr> <tr> <td>2 pipelines</td> <td>1 view</td> <td>4,204</td> <td>1,451</td> <td> </td> </tr> <tr> <td>4 pipelines</td> <td>1 view</td> <td>4,997</td> <td>1,933</td> <td> </td> </tr> <tr> <td>1 pipeline</td> <td>2 views</td> <td>1,970</td> <td>775</td> <td> </td> </tr> <tr> <td>2 pipelines</td> <td>2 views</td> <td>3,242</td> <td>1,363</td> <td> </td> </tr> <tr> <td>4 pipelines</td> <td>2 views</td> <td>4,286</td> <td>1,891</td> <td> </td> </tr> <tr> <td>1 pipeline</td> <td>4 views</td> <td>1,046</td> <td>693</td> <td> </td> </tr> <tr> <td>2 pipelines</td> <td>4 views</td> <td>1,965</td> <td>1,229</td> <td> </td> </tr> <tr> <td>4 pipelines</td> <td>4 views</td> <td>3,329</td> <td>1,779</td> <td> </td> </tr> </tbody> </table></div> <blockquote> <p><strong>Note</strong> that the ingest speed is typically slower if done in parallel with the fragmentation task, with the ingest speed decreasing more when fragmenting multiple views. The performance decrease is up to 57% for high-end systems when ingesting using a single pipeline and fragmenting 4 views. For a mid-range system this is only 22%.</p> </blockquote> <p>But as the ingest speed is overall larger than the fragmentation speed, it may still be a good choice to ingest in parallel.</p> <h4 id="parallel-fragmentation-speed-test"> <a href="#parallel-fragmentation-speed-test" class="anchor-heading" aria-labelledby="parallel-fragmentation-speed-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parallel Fragmentation Speed Test </h4> <div class="table-wrapper"><table> <thead> <tr> <th> </th> <th> </th> <th>High-end</th> <th>Mid-range</th> <th>Low-end</th> </tr> </thead> <tbody> <tr> <td>1 view</td> <td>1 pipeline</td> <td>1,728</td> <td>316</td> <td> </td> </tr> <tr> <td>2 views</td> <td>1 pipeline</td> <td>1,411</td> <td>288</td> <td> </td> </tr> <tr> <td>4 views</td> <td>1 pipeline</td> <td>631</td> <td>240</td> <td> </td> </tr> <tr> <td>1 view</td> <td>2 pipelines</td> <td>2,007</td> <td>314</td> <td> </td> </tr> <tr> <td>2 views</td> <td>2 pipelines</td> <td>1,394</td> <td>289</td> <td> </td> </tr> <tr> <td>4 views</td> <td>2 pipelines</td> <td>624</td> <td>242</td> <td> </td> </tr> <tr> <td>1 view</td> <td>4 pipelines</td> <td>1,807</td> <td>312</td> <td> </td> </tr> <tr> <td>2 views</td> <td>4 pipelines</td> <td>1,380</td> <td>286</td> <td> </td> </tr> <tr> <td>4 views</td> <td>4 pipelines</td> <td>581</td> <td>241</td> <td> </td> </tr> </tbody> </table></div> <blockquote> <p><strong>Note</strong> that the fragmentation speed is also slower than the ingest speed when doen in parallel but it is less noticable with a decrease of up to 16% for a high-end system and only up to 8% for a mid-range one.</p> </blockquote> <p>Because the partitioning is not that much slower when done in parallel we recommend to do the ingest and fragmentation in parallel unless really needed. You can do them sequentially as described <a href="#ldes-server-performance">above</a>.</p> <h4 id="fetch-speed-test"> <a href="#fetch-speed-test" class="anchor-heading" aria-labelledby="fetch-speed-test"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Fetch Speed Test </h4> <blockquote> <p><strong>Note</strong> that we are aware of some improvements which may affect the fetch measurements below in a positive way (possibly by 40% - 60%).</p> </blockquote> <div class="table-wrapper"><table> <thead> <tr> <th> </th> <th>High-end</th> <th>Mid-range</th> <th>Low-end</th> </tr> </thead> <tbody> <tr> <td>10 mpp</td> <td>2,242</td> <td>698</td> <td> </td> </tr> <tr> <td>100 mpp</td> <td>3,051</td> <td>1,342</td> <td> </td> </tr> <tr> <td>250 mpp</td> <td>3,051</td> <td>1,434</td> <td> </td> </tr> <tr> <td>500 mpp</td> <td>2,984</td> <td>1,375</td> <td> </td> </tr> <tr> <td>1000 mpp</td> <td>2,844</td> <td>1,252</td> <td> </td> </tr> <tr> <td>2500 mpp</td> <td>2,500</td> <td>1,179</td> <td> </td> </tr> <tr> <td>5000 mpp</td> <td>2,470</td> <td>1,024</td> <td> </td> </tr> <tr> <td>10000 mpp</td> <td>2,345</td> <td>1,121</td> <td> </td> </tr> </tbody> </table></div> <blockquote> <p><strong>Note</strong> that the optimal fetch speed is 250 members per page (for a linked data model of about 30 triples). Using a small page size (e.g. 10 mpp) is 25% - 50% slower. Using larger page size (&gt; 1000 mpp) typically decreases the fetch rate by 20% - 30 %.</p> </blockquote> <p>The ideal page size is 100 mpp - 1000 mpp for a 30 triples data model meaning that the ideal fragment size is order of magnitude of thousands to ten thousands of triples. You may need to experiment a bit by creating a few views with a different page member count, but the usual default that we recommend is 250 mpp.</p> <h2 id="ldes-client-performance"> <a href="#ldes-client-performance" class="anchor-heading" aria-labelledby="ldes-client-performance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> LDES Client Performance </h2> <blockquote> <p>Not yet available</p> </blockquote> </main> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0"></p> <div class="d-flex mt-2"> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.3/dist/mermaid.min.js"></script> <script> var config = {} ; mermaid.initialize(config); window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid')); </script> </body> </html>
